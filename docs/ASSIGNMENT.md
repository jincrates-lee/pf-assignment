# pf-assignment

펫프렌즈 백엔드 채용과제


## 과제 제출 방법

1. 과제 제출 기한은 **받으신 날로부터 7일**까지 입니다.
2. 과제를 본인의 GitHub 에 **Private Repository (비공개 저장소)**로 만들어서 올려주세요.
3. 완료되시면 `jh.kang@pet-friends.co.kr` (임시) 을 초대하시고 메일로 회신 해주세요.
4. 평가 결과는 **제출일로부터 7일**안에 전달됩니다.

---

## 필수 요구사항

- JAVA 17, Spring Boot 3, Gradle, JPA
- DB 는 H2 를 사용해주세요.
- API 명세는 Swagger 로 확인할 수 있어야 합니다.
- Swagger 환경에서 API 테스트가 가능해야 합니다.
- 단위 테스트코드를 작성해주세요.
- `README.md` 작성해주세요. (실행방법, swagger 주소 등)
- API가 정상적으로 작동해야합니다
- 유효성 검사가 적절하게 적용되어야합니다.

## 과제: 상품, 리뷰 서비스 API 개발

### 1. 상품 등록/수정/삭제 API

- 상품 등록 시 `상품명` / `판매가격` / `할인가격` / `브랜드` / `카테고리정보`를 설정할 수 있다.
- 상품에는 여러개의 `카테고리정보`가 매핑될 수 있다.
- 상품 삭제시 해당 상품에 연관된 리뷰 정보도 함께 삭제된다

**상품 샘플 데이터**

| 상품명                           | 판매가격   | 할인가격   | 브랜드      | 카테고리정보(1단계) | 카테고리정보(2단계) | 카테고리정보(3단계) |
|-------------------------------|--------|--------|----------|-------------|-------------|-------------|
| 촉촉트릿 북어 80g                   | 15000  | 2100   | 촉촉트릿     | 강아지         | 간식          | 동결/건조       |
|                               |        |        |          | 고양이         | 간식          | 동결/건조       |
| 베스트 프라이스 치카루틴 덴탈껌 오리지널 50p    | 22000  | 11100  | 베스트 프라이스 | 강아지         | 간식          | 덴탈껌         |
| 로얄캐닌 독 미니 인도어 어덜트 3kg 소화기 건강  | 48800  | 0      | 로얄캐닌     | 강아지         | 사료          | 건식사료        |
|                               |        |        |          | 강아지         | 사료          | 어덜트(1-7세)   |
| now 독 프레쉬 스몰브리드 퍼피 40g 사료샘플   | 1500   | 0      | NOW      | 강아지         | 사료          | 건식사료        |
|                               |        |        |          | 강아지         | 사료          | 맘마샘플        |
|                               |        |        |          | 강아지         | 사료          | 퍼피(1세미만)    |
|                               |        |        |          | 강아지         | 사료          | 피부/피모       |
|                               |        |        |          | 강아지         | 사료          | 장/소화        |
| 호랑이패드 대형 60매                  | 26000  | 7100   | 호랑이      | 강아지         | 용품          | 배변용품        |
| 캐티맨 강아지풀 낚시대                  | 3500   | 300    | 캐티맨      | 고양이         | 용품          | 낚시대/레이져     |
| 이나바 캣 챠오 츄르 참치&가다랑어 버라이어티 14g | 40,000 | 17,100 | 이나바      | 고양이         | 간식          | 간식 파우치      |
| 진짜육포 14종                      | 10,000 | 3,500  | 진짜육포     | 강아지         | 간식          | 저키          |
|                               |        |        |          | 강아지         | 간식          | 사사미/육포      |
| 로얄캐닌 인도어 캣 4kg 변냄새 감소         | 65,500 | 4,400  | 로얄캐닌     | 고양이         | 사료          | 건식사료        |
|                               |        |        |          | 고양이         | 사료          | 어덜트(1-7세)   |
|                               |        |        |          | 고양이         | 사료          | 요로기계        |
|                               |        |        |          | 고양이         | 사료          | 헤어볼         |
|                               |        |        |          | 고양이         | 사료          | 구강/치아       |
|                               |        |        |          | 고양이         | 사료          | 장/소화        |
|                               |        |        |          | 고양이         | 사료          | 기타          |
| 알모네이쳐 캣 대서양참치 캔 70g           | 2,800  | 0      | 알모네이쳐    | 고양이         | 사료          | 어덜트(1-7세)   |
|                               |        |        |          | 고양이         | 사료          | 주식캔         |
| 캐츠랑 전연령 20kg                  | 67,000 | 16,100 | 캐츠랑      | 고양이         | 사료          | 전연령         |
|                               |        |        |          | 고양이         | 사료          | 건식사료        |
| 아보덤 캣 내추럴 그레인프리 캔 7종 모음       | 3,200  | 450    | 아보덤      | 고양이         | 사료          | 전연령         |
|                               |        |        |          | 고양이         | 사료          | 주식캔         |
|                               |        |        |          |             |             |             |

### 2. 상품 목록 조회 API

- 상품은 기본 페이지당 5개씩 노출되어야 하고 노출 수는 변경될 수 있다.
- 카테고리정보를 기준으로 상품목록을 조회한다.
- 정렬은 `낮은가격순` / `리뷰많은순` 두 가지 정렬기준을 제공한다.
- 상품 응답에는 `상품명` / `판매가격` / `할인가격` / `브랜드` / `할인율` / `리뷰평점` / `카테고리정보`가 있다
    - 할인율은 소수점 첫번째자리에서 반올림한다.
    - 할인율 = 할인가 / 판매가 * 100
    - 리뷰평점은 소수점 둘째자리에서 반올림한다.
    - 카테고리정보는 상품에 연결된 모든 카테고리정보를 응답해야한다.

### 3. 리뷰 등록/수정/삭제 API

- 리뷰는 `상품ID` / `내용`/ `리뷰점수`를 등록한다.
- 리뷰는 `내용`/ `리뷰점수`만 수정 가능하다.
- 리뷰점수는 1~5점까지 정할 수 있다.

### 4. 상품의 리뷰 목록 조회 API

- 상품ID를 기준으로 리뷰 목록을 조회한다.
- 리뷰는 기본 페이지당 5개씩 노출되어야 하고 노출 수는 변경될 수 있다.
- 정렬은 `최근 등록순`으로 조회한다.
- 리뷰 응답에는 `상품명` / `리뷰점수` / `내용`이 있다

## 추가 요구사항

- 대용량 트래픽과 마이크로서비스 환경을 고려하면 좋습니다.
- 동시성을 고려한 설계 및 구현해주세요.
